(window["webpackJsonptwitch-app"]=window["webpackJsonptwitch-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),i=a.n(s),c=(a(13),a(1)),l=a(2),o=a(4),h=a(3),m=a(5),u=(a(14),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(h.a)(t).call(this))).setSearch=function(t){e.setState({search:t.target.value})},e.runSearch=function(t){t.preventDefault(),fetch("https://api.twitch.tv/helix/streams?user_login="+e.state.search,{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){0!==t.data.length?(fetch("https://api.twitch.tv/helix/games?id="+t.data[0].game_id,{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){t.data.length&&e.setState({gameName:t.data[0].name})}),e.setState({showList:!1,showStreamCard:!0,resultStream:t.data,resultProfile:[],renderClips:!1})):fetch("https://api.twitch.tv/helix/users?login="+e.state.search,{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){0===t.data.length?e.setState({resultStream:[],resultProfile:[],showStreamCard:!0,showList:!1,renderClips:!1}):e.setState({resultProfile:t.data,showStreamCard:!0,showList:!1,resultStream:[],renderClips:!1})})})},e.backFromSearch=function(t){e.setState({showStreamCard:!1,showList:!0,resultStream:[],resultProfile:[],gameName:"",search:""})},e.showNext=function(t){if("undefined"!==typeof e.state.activeStreams.pagination){var a=e.state.activeStreams.pagination.cursor;fetch("https://api.twitch.tv/helix/streams?after="+a,{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){e.setState({activeStreams:t})})}else fetch("https://api.twitch.tv/helix/streams",{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){e.setState({activeStreams:t})})},e.showPrev=function(t){if("undefined"!==typeof e.state.activeStreams.pagination){var a=e.state.activeStreams.pagination.cursor;fetch("https://api.twitch.tv/helix/streams?before="+a,{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){e.setState({activeStreams:t})})}},e.showClips=function(t){fetch("https://api.twitch.tv/helix/clips?broadcaster_id="+t+"&first=10",{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){e.setState({clips:t,showList:!1,renderClips:!0})})},e.returnToList=function(){e.setState({showList:!0,renderClips:!1})},e.state={activeStreams:{data:[]},showList:!0,clips:!1,search:"",showStreamCard:!1,renderClips:!1,resultStream:[],resultProfile:[],gameName:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.twitch.tv/helix/streams",{headers:{"Client-ID":"wzdibt6ncymm2c9nquwlpkn9hg58i2"}}).then(function(e){return e.json()}).then(function(t){e.setState({activeStreams:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,{propSearch:this.setSearch,searchString:this.state.search,runSearch:this.runSearch}),r.a.createElement(p,{list:this.state.activeStreams.data,hClick:this.showNext,showPrev:this.showPrev,showClips:this.showClips,showList:this.state.showList,clips:this.state.clips,returnToList:this.returnToList,renderClips:this.state.renderClips}),r.a.createElement(w,{showStreamCard:this.state.showStreamCard,streamInfo:this.state.resultStream,profileInfo:this.state.resultProfile,game:this.state.gameName,backFromSearch:this.backFromSearch}))}}]),t}(n.Component)),p=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(this.props.showList){var t=[];return t="undefined"!==typeof this.props.list?this.props.list.map(function(t,a){var n=t.thumbnail_url;return n=(n=n.replace("{width}","480")).replace("{height}","270"),r.a.createElement("li",{key:a},r.a.createElement("a",{href:"https://www.twitch.tv/"+t.user_name,className:"stream-link",target:"blank"},r.a.createElement("img",{src:n})),r.a.createElement("p",{className:"title"},t.title),r.a.createElement("p",null,t.user_name),r.a.createElement("p",null,t.viewer_count," viewers"),r.a.createElement("button",{className:"nav-button",onClick:function(a){e.props.showClips(t.user_id,a)}},"Top clips"))}):r.a.createElement("li",{className:"center-text"},"Nothing here"),r.a.createElement("div",null,r.a.createElement("button",{className:"nav-button marg1",onClick:this.props.showPrev},"Previous"),r.a.createElement("button",{className:"nav-button marg1",onClick:this.props.hClick},"Next"),r.a.createElement("ul",{className:"streams-list"},t))}if(this.props.renderClips){var a=this.props.clips.data.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("iframe",{src:e.embed_url+"&autoplay=false",height:"270",width:"480",scrolling:"no",allowfullscreen:"true"}))});return r.a.createElement("div",null,r.a.createElement("button",{className:"nav-button",onClick:this.props.returnToList},"Back"),r.a.createElement("ul",{className:"clips-list"},a," "))}return null}}]),t}(n.Component);function f(e){return r.a.createElement("form",{onSubmit:e.runSearch,className:"search-form"},r.a.createElement("input",{type:"text",placeholder:"Search",onChange:e.propSearch,value:e.searchString,className:"search-field"}))}function w(e){if(0==e.showStreamCard)return null;if(0!==e.streamInfo.length){var t=e.streamInfo[0],a=t.thumbnail_url;return a=(a=a.replace("{width}","640")).replace("{height}","360"),r.a.createElement("div",{className:"result-stream"},r.a.createElement("button",{onClick:e.backFromSearch,className:"nav-button"},"Back"),r.a.createElement("p",{className:"nomt"},t.user_name),r.a.createElement("a",{href:"https://www.twitch.tv/"+t.user_name,target:"blank",className:"result-stream-link"},r.a.createElement("img",{src:a})),r.a.createElement("p",null,"Category: ",e.game),r.a.createElement("p",{className:"title"},t.title),r.a.createElement("p",null,t.viewer_count," viewers"))}return 0!==e.profileInfo.length?r.a.createElement("div",{className:"result-profile"},r.a.createElement("button",{onClick:e.backFromSearch,className:"nav-button"},"Back"),r.a.createElement("a",{href:"https://www.twitch.tv/"+e.profileInfo[0].display_name,target:"blank"},r.a.createElement("img",{src:e.profileInfo[0].profile_image_url}),r.a.createElement("p",null,e.profileInfo[0].display_name))):r.a.createElement("div",null,r.a.createElement("button",{onClick:e.backFromSearch,className:"nav-button"},"Back"),r.a.createElement("p",null,"User not found")," ")}var d=u;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.f59ca778.chunk.js.map